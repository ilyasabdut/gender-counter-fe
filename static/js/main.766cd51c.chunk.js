(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){e.exports=t(23)},17:function(e,a,t){},23:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),c=t(6),n=t.n(c),l=(t(17),t(7)),s=t(1);const d=Object({NODE_ENV:"production",PUBLIC_URL:"/peasy-gender-counter-fe"}).REACT_APP_BACKEND_URL,u=l.a.div.withConfig({displayName:"App__Styles",componentId:"sc-1r1t5ph-0"})(["padding:1rem;table{border-spacing:0;border:1px solid black;tr{:last-child{td{border-bottom:0;}}}th,td{margin:0;padding:0.5rem;border-bottom:1px solid black;border-right:1px solid black;:last-child{border-right:0;}}}"]);function m(e){let{columns:a,data:t,isSearch:r}=e;const{getTableProps:c,getTableBodyProps:n,headerGroups:l,rows:d,prepareRow:u,state:m,setGlobalFilter:i}=Object(s.useTable)({columns:a,data:t},s.useGlobalFilter);return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement("input",{type:"text",placeholder:"Search...",value:m.globalFilter||"",onChange:e=>i(e.target.value)}),o.a.createElement("table",c(),o.a.createElement("thead",null,l.map(e=>o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>o.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),o.a.createElement("tbody",n(),d.map((e,a)=>(u(e),o.a.createElement("tr",e.getRowProps(),e.cells.map(e=>o.a.createElement("td",e.getCellProps(),e.render("Cell")))))))))}var i=function(){const[e,a]=Object(r.useState)([]),[t,c]=Object(r.useState)([]),[n,l]=Object(r.useState)(null),[s,i]=Object(r.useState)(0);Object(r.useEffect)(()=>{p(n),g()},[n]);const p=e=>{let t="".concat(d,"/api/users");null!==e&&(t+="?search=".concat(e)),fetch(t).then(e=>e.json()).then(e=>{const t=e.data.map(a=>({number:e.data.indexOf(a)+1,uuid:a.uuid,firstName:JSON.parse(a.name).first,lastName:JSON.parse(a.name).last,gender:a.gender,age:a.age,location:a.location}));a(t),i(t.length)}).catch(e=>{console.log(e.message)})},g=()=>{fetch("".concat(d,"/api/daily-record")).then(e=>e.json()).then(e=>{c([e.data])}).catch(e=>{console.log(e.message)})},h=o.a.useMemo(()=>[{Header:"Daily Record",columns:[{Header:"Date",accessor:"date"}]},{Header:"Male",columns:[{Header:"Count",accessor:"male_count"},{Header:"Avg Age",accessor:"male_avg_age"}]},{Header:"Female",columns:[{Header:"Count",accessor:"female_count"},{Header:"Avg Age",accessor:"female_avg_age"}]}],[]),b=o.a.useMemo(()=>[{Header:"Name",columns:[{Header:"No",accessor:"number"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"}]},{Header:"Info",columns:[{Header:"Age",accessor:"age"},{Header:"Gender",accessor:"gender"},{Header:"Location",accessor:"location"},{Header:"Action",accessor:"delete",Cell:e=>{let{row:a}=e;return o.a.createElement("button",{onClick:()=>E(a.original.uuid)},"Delete")}}]}],[]);const E=e=>{console.log(e),fetch("http://127.0.0.1:8000/api/users/".concat(e),{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");console.log("User deleted successfully"),p(null),g()}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})};return o.a.createElement(u,null,o.a.createElement(m,{columns:h,data:t}),o.a.createElement(function(e){let{totalUsers:a}=e;return o.a.createElement("div",null,o.a.createElement("p",null,"Total Users: ",a))},{totalUsers:s}),o.a.createElement(m,{columns:b,data:e,isSearch:!0}))};n.a.render(o.a.createElement(i,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.766cd51c.chunk.js.map