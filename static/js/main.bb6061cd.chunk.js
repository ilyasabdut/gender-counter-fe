(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,a,t){e.exports=t(29)},19:function(e,a,t){},29:function(e,a,t){"use strict";t.r(a);var n,r=t(0),o=t.n(r),l=t(7),c=t.n(l),s=(t(19),t(8)),d=t(9),u=t(2),m=t(1),i=t.n(m);t(24);const g="https://peasy-gender-counter.fly.dev",p=d.a.div(n||(n=Object(s.a)(["\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"])));function h(e){let{columns:a,data:t,isSearch:n}=e;const{getTableProps:r,getTableBodyProps:l,headerGroups:c,rows:s,prepareRow:d,state:m,setGlobalFilter:i}=Object(u.useTable)({columns:a,data:t},u.useGlobalFilter);return o.a.createElement(o.a.Fragment,null,n&&o.a.createElement("input",{type:"text",placeholder:"Search...",value:m.globalFilter||"",onChange:e=>i(e.target.value)}),o.a.createElement("table",r(),o.a.createElement("thead",null,c.map(e=>o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>o.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),o.a.createElement("tbody",l(),s.map((e,a)=>(d(e),o.a.createElement("tr",e.getRowProps(),e.cells.map(e=>o.a.createElement("td",e.getCellProps(),e.render("Cell")))))))))}var b=function(){const[e,a]=Object(r.useState)([]),[t,n]=Object(r.useState)([]),[l,c]=Object(r.useState)(null),[s,d]=Object(r.useState)(0);Object(r.useEffect)(()=>{u(l),m()},[l]);const u=e=>{let t="".concat(g,"/api/users");null!==e&&(t+="?search=".concat(e)),fetch(t).then(e=>e.json()).then(e=>{const t=e.data.map(a=>({number:e.data.indexOf(a)+1,uuid:a.uuid,name:a.name,gender:a.gender,age:a.age,location:a.location}));a(t),d(e.meta.total)}).catch(e=>{console.log(e.message)})},m=()=>{fetch("".concat(g,"/api/daily-record")).then(e=>e.json()).then(e=>{const a={uuid:e.data.uuid,date:i()(e.data.date).tz("Asia/Jakarta").format("llll"),male_count:e.data.male_count,female_count:e.data.female_count,male_avg_age:e.data.male_avg_age,female_avg_age:e.data.female_avg_age};n([a])}).catch(e=>{console.log(e.message)})},b=o.a.useMemo(()=>[{Header:"Daily Record",columns:[{Header:"Date",accessor:"date"}]},{Header:"Male",columns:[{Header:"Count",accessor:"male_count"},{Header:"Avg Age",accessor:"male_avg_age"}]},{Header:"Female",columns:[{Header:"Count",accessor:"female_count"},{Header:"Avg Age",accessor:"female_avg_age"}]}],[]),f=o.a.useMemo(()=>[{Header:"No",accessor:"number"},{Header:"Name",accessor:"name"},{Header:"Age",accessor:"age"},{Header:"Gender",accessor:"gender"},{Header:"Location",accessor:"location"},{Header:"Action",accessor:"delete",Cell:e=>{let{row:a}=e;return o.a.createElement("button",{onClick:()=>E(a.original.uuid)},"Delete")}}],[]);const E=e=>{console.log(e),fetch("".concat(g,"/api/users/").concat(e),{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");console.log("User deleted successfully"),u(null),m()}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})};return o.a.createElement(p,null,o.a.createElement(h,{columns:b,data:t}),o.a.createElement(function(e){let{totalUsers:a}=e;return o.a.createElement("div",null,o.a.createElement("p",null,"Total Users: ",a))},{totalUsers:s}),o.a.createElement(h,{columns:f,data:e,isSearch:!0}))};c.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.bb6061cd.chunk.js.map