(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,a,t){e.exports=t(24)},18:function(e,a,t){},24:function(e,a,t){"use strict";t.r(a);var r,n=t(0),o=t.n(n),c=t(6),l=t.n(c),s=(t(18),t(7)),d=t(8),u=t(1);const m="https://peasy-gender-counter.fly.dev",i=d.a.div(r||(r=Object(s.a)(["\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"])));function p(e){let{columns:a,data:t,isSearch:r}=e;const{getTableProps:n,getTableBodyProps:c,headerGroups:l,rows:s,prepareRow:d,state:m,setGlobalFilter:i}=Object(u.useTable)({columns:a,data:t},u.useGlobalFilter);return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement("input",{type:"text",placeholder:"Search...",value:m.globalFilter||"",onChange:e=>i(e.target.value)}),o.a.createElement("table",n(),o.a.createElement("thead",null,l.map(e=>o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>o.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),o.a.createElement("tbody",c(),s.map((e,a)=>(d(e),o.a.createElement("tr",e.getRowProps(),e.cells.map(e=>o.a.createElement("td",e.getCellProps(),e.render("Cell")))))))))}var g=function(){const[e,a]=Object(n.useState)([]),[t,r]=Object(n.useState)([]),[c,l]=Object(n.useState)(null),[s,d]=Object(n.useState)(0);Object(n.useEffect)(()=>{u(c),g()},[c]);const u=e=>{let t="".concat(m,"/api/users");null!==e&&(t+="?search=".concat(e)),fetch(t).then(e=>e.json()).then(e=>{const t=e.data.map(a=>({number:e.data.indexOf(a)+1,uuid:a.uuid,firstName:JSON.parse(a.name).first,lastName:JSON.parse(a.name).last,gender:a.gender,age:a.age,location:a.location}));a(t),d(t.length)}).catch(e=>{console.log(e.message)})},g=()=>{fetch("".concat(m,"/api/daily-record")).then(e=>e.json()).then(e=>{r([e.data])}).catch(e=>{console.log(e.message)})},h=o.a.useMemo(()=>[{Header:"Daily Record",columns:[{Header:"Date",accessor:"date"}]},{Header:"Male",columns:[{Header:"Count",accessor:"male_count"},{Header:"Avg Age",accessor:"male_avg_age"}]},{Header:"Female",columns:[{Header:"Count",accessor:"female_count"},{Header:"Avg Age",accessor:"female_avg_age"}]}],[]),b=o.a.useMemo(()=>[{Header:"Name",columns:[{Header:"No",accessor:"number"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"}]},{Header:"Info",columns:[{Header:"Age",accessor:"age"},{Header:"Gender",accessor:"gender"},{Header:"Location",accessor:"location"},{Header:"Action",accessor:"delete",Cell:e=>{let{row:a}=e;return o.a.createElement("button",{onClick:()=>E(a.original.uuid)},"Delete")}}]}],[]);const E=e=>{console.log(e),fetch("http://127.0.0.1:8000/api/users/".concat(e),{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");console.log("User deleted successfully"),u(null),g()}).catch(e=>{console.error("There was a problem with the fetch operation:",e)})};return o.a.createElement(i,null,o.a.createElement(p,{columns:h,data:t}),o.a.createElement(function(e){let{totalUsers:a}=e;return o.a.createElement("div",null,o.a.createElement("p",null,"Total Users: ",a))},{totalUsers:s}),o.a.createElement(p,{columns:b,data:e,isSearch:!0}))};l.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.f7a95e17.chunk.js.map